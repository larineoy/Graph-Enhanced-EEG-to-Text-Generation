# Configuration file for Graph-Enhanced EEG-to-Text Decoding

# Dataset
data:
  data_dir: "data"  # Directory containing ZuCo_1.0/ and ZuCo_2.0/ subdirectories
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1
  max_seq_length: 128
  vocab_size: 10000
  
  # Artifact removal settings
  apply_notch_filter: true      # Remove power line noise (50/60 Hz)
  notch_freq: 50.0               # Line noise frequency (50 Hz EU, 60 Hz US)
  apply_highpass_filter: true    # Remove slow drifts
  highpass_cutoff: 0.5           # High-pass cutoff in Hz
  detect_bad_channels: false     # Optional: detect and interpolate bad channels
  bad_channel_threshold: 3.0     # Standard deviations for bad channel detection
  
# Model parameters
model:
  # EEG parameters
  num_channels: 64  # Number of EEG channels
  num_frequency_bands: 5  # delta, theta, alpha, beta, gamma
  time_steps: 1000
  
  # Graph parameters
  strg:
    alpha: 0.5  # Weight for spatial adjacency
    beta: 0.5   # Weight for functional connectivity
    use_spatial_topology: true
    use_functional_connectivity: true
    
  # STRE parameters
  stre:
    node_dim: 1  # Bandpower is scalar feature per node
    graph_embed_dim: 256
    num_gat_layers: 2
    num_gat_heads: 4
    gat_dropout: 0.1
    
    # Temporal Transformer
    num_temporal_layers: 4
    num_temporal_heads: 8
    temporal_ff_dim: 512
    temporal_dropout: 0.1
    
  # Decoder parameters
  decoder:
    vocab_size: 10000
    embed_dim: 256
    num_layers: 4
    num_heads: 8
    ff_dim: 512
    dropout: 0.1
    max_decoder_length: 128

# Training
training:
  batch_size: 16
  num_epochs: 50
  learning_rate: 1e-4
  weight_decay: 1e-5
  warmup_steps: 1000
  gradient_clip: 1.0
  
  # Loss weights
  lambda_smooth: 0.1  # Graph smoothness regularization
  lambda_contrastive: 0.2  # Contrastive alignment loss
  
  # Overfitting control
  dropout: 0.1  # Applied in model layers
  early_stopping: true
  early_stopping_patience: 5  # Stop if no improvement for N epochs
  early_stopping_min_delta: 0.001
  
  checkpoint_dir: "checkpoints"
  save_every: 5
  log_every: 100

# Evaluation
evaluation:
  metrics: ["bleu", "rouge", "bertscore"]
  beam_size: 5

# Hardware
device: "cuda"  # or "cpu"
num_workers: 4
seed: 42

